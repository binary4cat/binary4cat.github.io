<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>Go语言基础知识  &middot; Haijd&#39;s Blog </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="en-us" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Haijd">
    <meta name="description" content="a coder.">
    <meta name="generator" content="Hugo 0.53" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/smooth-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    

    <style>
        .posts li {
            visibility: hidden;
        }
    </style> 
</head>

<body>

    

    <header>
    <div class="h-wrap">
        
        <div class="typewriter">
            <h1 class="title"><a href="/">Haijd&#39;s Blog</a></h1>
        </div>
        
    </div>
</header>
    <div class="site-wrapper" id="full-wrapper">

        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                        <time datetime="" itemprop="datePublished">
                    11 August 2017
                   
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">Go语言基础知识</h1>
                <br>
                
                <div>
                    
                    <img src="http://ww1.sinaimg.cn/large/c55a7aeely1ficnszlhh9j20go098jrl.jpg">
                    
                </div>
                
                <div>
                    <nav id="TableOfContents">
<ul>
<li><a href="#1-基础知识">1. 基础知识</a></li>
<li><a href="#2-类型与变量">2. 类型与变量</a>
<ul>
<li><a href="#2-1-基本类型">2.1. 基本类型</a></li>
<li><a href="#2-2-类型默认值">2.2. 类型默认值</a>
<ul>
<li><a href="#2-2-1-类型的别名">2.2.1. 类型的别名</a></li>
</ul></li>
<li><a href="#2-3-变量的声明与赋值">2.3. 变量的声明与赋值</a></li>
<li><a href="#2-4-变量的类型转换">2.4. 变量的类型转换</a></li>
<li><a href="#2-5-常量的定义">2.5. 常量的定义</a></li>
<li><a href="#2-6-运算符">2.6. 运算符</a></li>
<li><a href="#2-7-控制语句">2.7. 控制语句</a>
<ul>
<li><a href="#2-7-1-循环">2.7.1. 循环</a></li>
<li><a href="#2-7-2-switch">2.7.2. switch</a></li>
</ul></li>
<li><a href="#2-8-array">2.8. Array</a></li>
<li><a href="#2-9-切片slice">2.9. 切片Slice</a></li>
<li><a href="#2-10-map">2.10. map</a></li>
<li><a href="#2-11-函数">2.11. 函数</a>
<ul>
<li><a href="#2-11-1-defer">2.11.1. defer</a></li>
</ul></li>
<li><a href="#2-12-结构struct">2.12. 结构struct</a></li>
<li><a href="#2-13-方法method">2.13. 方法method</a></li>
<li><a href="#2-14-接口interface">2.14. 接口interface</a></li>
<li><a href="#2-15-反射reflection">2.15. 反射reflection</a></li>
<li><a href="#2-16-并发concurrency">2.16. 并发concurrency</a></li>
</ul></li>
</ul>
</nav>
                </div>
                <hr>
                <div itemprop="articleBody">
                    

<h1 id="1-基础知识">1. 基础知识</h1>

<ul>
<li>每个go程序都是由<code>package</code>定义的。<code>package</code>必须在源文件的第一行。</li>
<li>每个可执行程序必须有且只有一个main包，main包里面必须有main函数。</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">package</span> main
<span style="color:#6272a4">// todo
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//TODO
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p>import</p>

<ul>
<li>多个包可以一个一个import：
<br /></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span> <span style="color:#f1fa8c">&#34;fmt&#34;</span>
<span style="color:#ff79c6">import</span> <span style="color:#f1fa8c">&#34;os&#34;</span>
<span style="color:#ff79c6">import</span> <span style="color:#f1fa8c">&#34;log&#34;</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>也可以简化：</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span> (
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
    <span style="color:#f1fa8c">&#34;os&#34;</span>
    <span style="color:#f1fa8c">&#34;log&#34;</span>
    )
<span style="color:#6272a4">//调用
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hello world&#34;</span>);
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>导入的包没有调用里面的函数等，就会导致编译失败。</li>
<li>可以设置别名：</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span> env <span style="color:#f1fa8c">&#34;fmt&#34;</span>

<span style="color:#6272a4">//调用
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    env.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Hello world&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>或者可以直接省略调用：使用“<code>.</code>”代替别名，调用包函数的时候就不需要使用包名了(但是不推荐这样做)
<br /></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span> . <span style="color:#f1fa8c">&#34;fmt&#34;</span>

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hello world&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>省略调用和别名不能同时使用</li>
<li>可见性规则：使用大小写来决定是<code>private</code>或者<code>public</code></li>
<li>大写就是表示<code>public</code>，表示在包的外部可以调用</li>
<li>小写就是表示<code>private</code>，表示只能在包内部被调用</li>
</ul></li>
</ul>

<h1 id="2-类型与变量">2. 类型与变量</h1>

<h2 id="2-1-基本类型">2.1. 基本类型</h2>

<ul>
<li>布尔类型：<code>bool</code>

<ul>
<li>长度：1字节</li>
<li>取值范围：true、false</li>
<li>不能使用c#等其他语言中的0、1来代表</li>
</ul></li>
<li>整型：<code>int</code>/<code>uint</code>

<ul>
<li>根据程序运行平台分为32/64位</li>
<li>int类型必须是整数，带小数的必须申明为float类型</li>
</ul></li>
<li>字节型：<code>byte</code>/<code>uint8</code></li>
<li>复数：</li>
<li>值类型：

<ul>
<li><code>array</code>、<code>struct</code>、<code>string</code></li>
</ul></li>
<li>引用类型：

<ul>
<li><code>slice</code>(切片)、<code>map</code>(哈希)、<code>chan</code>(通道,并发编程必不可少)</li>
</ul></li>
<li>接口类型：<code>interface</code></li>
<li>函数类型：<code>func</code></li>
</ul>

<h2 id="2-2-类型默认值">2.2. 类型默认值</h2>

<ul>
<li>值类型默认值为0</li>
<li>bool默认为false</li>
<li>string默认为空字符串</li>
</ul>

<h3 id="2-2-1-类型的别名">2.2.1. 类型的别名</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">package</span> main
<span style="color:#ff79c6">import</span> (
    <span style="color:#f1fa8c">&#34;fmt
</span><span style="color:#f1fa8c">)
</span><span style="color:#f1fa8c">//给类型起个别名
</span><span style="color:#f1fa8c">type(
</span><span style="color:#f1fa8c">    byte int8
</span><span style="color:#f1fa8c">    rune int32
</span><span style="color:#f1fa8c">    字符串 string
</span><span style="color:#f1fa8c">)
</span><span style="color:#f1fa8c">func main(){
</span><span style="color:#f1fa8c">    //使用别名“字符串”代替“string”申明变量
</span><span style="color:#f1fa8c">    var str 字符串
</span><span style="color:#f1fa8c">    str=&#34;</span>我是文本字符串&#34;
    fmt.<span style="color:#50fa7b">Println</span>(b);
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-3-变量的声明与赋值">2.3. 变量的声明与赋值</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//申明一个int类型的变量a,未赋值，默认值为0
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a <span style="color:#8be9fd">int</span> 
<span style="color:#6272a4">//给变量a赋值  
</span><span style="color:#6272a4"></span>a = <span style="color:#bd93f9">10</span>        
<span style="color:#6272a4">//申明变量的同时赋值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> b <span style="color:#8be9fd">int</span> = <span style="color:#bd93f9">10</span>    
<span style="color:#6272a4">//省略变量的类型，由编译器去根据值推断
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> c = <span style="color:#f1fa8c">&#34;hello&#34;</span>   
<span style="color:#6272a4">//申明赋值简写形式(方法体内使用)
</span><span style="color:#6272a4"></span>d <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">111</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//申明多个相同类型的变量
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a,b,c <span style="color:#8be9fd">int</span>
<span style="color:#6272a4">//申明的同时赋值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a,b,c <span style="color:#8be9fd">int</span> = <span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>
<span style="color:#6272a4">//省略类型
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a,b,c = <span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>
<span style="color:#6272a4">//简写形式
</span><span style="color:#6272a4"></span>a,b,c <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//使用“_”忽略其中一个参数(忽略了2这个值)
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a,_,c = <span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>
<span style="color:#ff79c6">//</span> 用在返回多个值的时候，忽略其中一个参数值</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-4-变量的类型转换">2.4. 变量的类型转换</h2>

<ul>
<li>Go语言中所有的类型转换必须是显示声明的强制转换</li>
<li>只能转换两种互相兼容的类型:例如int和float之间可以转换，但是int和bool之间转换会发生编译错误</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">var</span> a <span style="color:#8be9fd">float</span> = <span style="color:#bd93f9">1.1</span>
<span style="color:#8be9fd;font-style:italic">var</span> b <span style="color:#8be9fd">int</span> = <span style="color:#8be9fd;font-style:italic">int</span>(a)

<span style="color:#6272a4">//错误的转换
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a <span style="color:#8be9fd">int</span> = <span style="color:#bd93f9">0</span> 
<span style="color:#8be9fd;font-style:italic">var</span> b <span style="color:#8be9fd">bool</span> = <span style="color:#8be9fd;font-style:italic">int</span>(a)</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//int string
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> a <span style="color:#8be9fd">int</span> = <span style="color:#bd93f9">65</span> 
b <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">string</span>(a)
fmt.<span style="color:#50fa7b">Println</span>(b)

<span style="color:#ff79c6">//</span>输出一个<span style="color:#f1fa8c">&#34;A&#34;</span>，将int类型直接转string的时候，编译器会认为将要进行转换的是计算机存储的字符代码，数字65代表的是字母A，所以就会输出A</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//可以使用一个内置包进行int、string的转换
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">package</span> main
<span style="color:#ff79c6">import</span>(
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
    <span style="color:#f1fa8c">&#34;strconv&#34;</span>
)
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#8be9fd;font-style:italic">var</span> a <span style="color:#8be9fd">int</span> = <span style="color:#bd93f9">65</span> 
    b <span style="color:#ff79c6">:=</span> strconv.<span style="color:#50fa7b">Itoa</span>(a)  <span style="color:#6272a4">//int转string
</span><span style="color:#6272a4"></span>    a = strconv.<span style="color:#50fa7b">Atoi</span>(b)   <span style="color:#6272a4">//string转int
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(b)
}

<span style="color:#ff79c6">//</span>输出的就是65</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-5-常量的定义">2.5. 常量的定义</h2>

<ul>
<li>常量的定义推荐使用全部大写字母声明</li>
<li>如果常量不想被外部调用，那就首字母需要是小写或者下划线</li>
<li>常量如果使用函数作为值，那么必须是一个内置函数</li>
<li>常量赋值必须是一个常量</li>
<li>同时声明多个常量，第一个常量必须赋默认值</li>
<li>申明多个常量，没有赋初始值的会默认取上一行的值</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">const</span> (
    a = <span style="color:#bd93f9">1</span>
    b
    c
)
<span style="color:#ff79c6">//</span> b和c就会默认取a的值，都等于1</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以使用常量实现枚举效果</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">const</span> (
    a = <span style="color:#f1fa8c">&#34;A&#34;</span>
    b
    c = <span style="color:#ff79c6">iota</span>
    d
)
<span style="color:#6272a4">// 上面的声明中，a和b的值都是“A”,遵循没有赋值取上一行的值
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">//</span> c 使用了一个iota，iota表示常量的计数器，从0开始一次递增1，所以c的值就是3</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">const</span> (
    a = <span style="color:#ff79c6">iota</span>
    b,
    c
)
<span style="color:#ff79c6">//</span>作为声明的第一个常量不能省略赋值(要么是其他值，要么就是iota)</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-6-运算符">2.6. 运算符</h2>

<h2 id="2-7-控制语句">2.7. 控制语句</h2>

<ul>
<li>控制语句条件没有括号</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">if</span> a &gt; <span style="color:#bd93f9">1</span> {
    <span style="color:#6272a4">//TODO
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以在控制语句中声明变量并使用，但是作用域只在控制语句内</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">10</span>
    <span style="color:#ff79c6">if</span> a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>; a &gt; <span style="color:#bd93f9">0</span> {
        fmt.<span style="color:#50fa7b">Println</span>(a)    <span style="color:#6272a4">//输出的是1
</span><span style="color:#6272a4"></span>    }
    fmt.<span style="color:#50fa7b">Println</span>(a)        <span style="color:#6272a4">//输出的是10
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<h3 id="2-7-1-循环">2.7.1. 循环</h3>

<ul>
<li>Go语言中只有一个<code>for</code>循环关键字，像c#中除了<code>for</code>还有<code>foreach</code>、<code>while</code>关键字</li>

<li><p>Go语言中的<code>for</code>支持3种形式</p>

<ul>
<li>无限循环</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">mian</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#ff79c6">for</span> {
        a<span style="color:#ff79c6">++</span>
        <span style="color:#ff79c6">if</span> a &gt; <span style="color:#bd93f9">3</span> {
            <span style="color:#ff79c6">break</span>   <span style="color:#6272a4">//必须要有一个条件控制，否则就进入无限循环状态
</span><span style="color:#6272a4"></span>        }
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>自带条件表达式</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span> (){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#ff79c6">for</span> a &lt; <span style="color:#bd93f9">10</span> {
        <span style="color:#6272a4">//TODO
</span><span style="color:#6272a4"></span>        a<span style="color:#ff79c6">++</span>
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>正常循环语句</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>; i &lt; <span style="color:#bd93f9">10</span>; i<span style="color:#ff79c6">++</span>{
        <span style="color:#6272a4">//TODO
</span><span style="color:#6272a4"></span>    }
}</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h3 id="2-7-2-switch">2.7.2. switch</h3>

<ul>
<li>不需要写关键字<code>break</code>,符合条件就会自动终止switch</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#ff79c6">switch</span> a {
        <span style="color:#ff79c6">case</span> <span style="color:#bd93f9">0</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a=0&#34;</span>)
        <span style="color:#ff79c6">case</span> <span style="color:#bd93f9">1</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a=1&#34;</span>)
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>如果符合后需要继续下一个<code>case</code>，那么就需要显示的使用<code>fallthrough</code>关键字</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#ff79c6">switch</span> {
        <span style="color:#ff79c6">case</span> a &gt; <span style="color:#bd93f9">0</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a&gt;0&#34;</span>)
            <span style="color:#ff79c6">fallthrough</span>
        <span style="color:#ff79c6">case</span> a &lt; <span style="color:#bd93f9">0</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a&lt;0&#34;</span>)
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>支持初始化一个表达式，这时表达式需要以封号结尾</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span> (){
    <span style="color:#ff79c6">switch</span> a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>;{
        <span style="color:#ff79c6">case</span> a &gt; <span style="color:#bd93f9">0</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a&gt;0&#34;</span>)
            <span style="color:#ff79c6">fallthrough</span>
        <span style="color:#ff79c6">case</span> a &lt; <span style="color:#bd93f9">0</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;a&lt;0&#34;</span>)
    }
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-8-array">2.8. Array</h2>

<ul>
<li>数组的声明</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">2</span>]<span style="color:#8be9fd">int</span>  <span style="color:#6272a4">//数组必须要声明长度
</span><span style="color:#6272a4"></span>    b <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">1</span>]<span style="color:#8be9fd">int</span>  <span style="color:#6272a4">//长度相同的两个数组，尽管元素类型一样，但是是属于两个不同的类型
</span><span style="color:#6272a4"></span>
    <span style="color:#6272a4">//给数组赋值，在下面有两个元素的int数组中，值赋值了一个1，那么就会认为1是第一个元素的值，那么第二个元素就是int类型的默认值0
</span><span style="color:#6272a4"></span>    c <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">2</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>}     <span style="color:#6272a4">//output:[1,0]
</span><span style="color:#6272a4"></span>
    <span style="color:#6272a4">//如果想给指定的元素赋值，那么就要使用索引形式
</span><span style="color:#6272a4"></span>    d <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">5</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">4</span>: <span style="color:#bd93f9">1</span>}  <span style="color:#6272a4">//表示给索引为4也就是最后一个元素赋值1，其他的元素为int类型默认值
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//上面的语句输出[0,0,0,0,1]
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以不指定数组的长度</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#ff79c6">...</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>}  <span style="color:#6272a4">//使用3个点代替长度，编译器会自动帮我们计算
</span><span style="color:#6272a4"></span>
    <span style="color:#6272a4">//也可以实现上面例子中的指定索引赋值
</span><span style="color:#6272a4"></span>    b <span style="color:#ff79c6">:=</span> [<span style="color:#ff79c6">...</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">19</span>: <span style="color:#bd93f9">1</span>}    <span style="color:#6272a4">//这个数组的长度就是20，最后一个元素值为1，其他元素为0
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>数组在Go语言中为值类型(c#中是作为引用类型的)</li>
<li>可以对单个元素的值进行操作</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">10</span>]<span style="color:#8be9fd">int</span>{}
    a[<span style="color:#bd93f9">2</span>]=<span style="color:#bd93f9">2</span>   <span style="color:#6272a4">//对数组索引为2(第三个元素)进行赋值操作
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以定义使用多维数组</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">2</span>][<span style="color:#bd93f9">3</span>]<span style="color:#8be9fd">int</span> {
        {<span style="color:#bd93f9">2</span>: <span style="color:#bd93f9">1</span>},
        {<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>}
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>冒泡排序</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#ff79c6">...</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">6</span>,<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">8</span>}

    num <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">len</span>(a)  <span style="color:#6272a4">//获取数组长度
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>;i &lt; num; i<span style="color:#ff79c6">++</span> {
        <span style="color:#ff79c6">for</span> j <span style="color:#ff79c6">:=</span> i <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>; j &lt; num; j<span style="color:#ff79c6">++</span> {
            <span style="color:#ff79c6">if</span> a[i] &lt; a[j]{
                temp <span style="color:#ff79c6">:=</span> a[i]
                a[i] = a[j]
                a[j] = temp
            }
        }
    }
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-9-切片slice">2.9. 切片Slice</h2>

<ul>
<li>Slice本身不是数组，它只是指向一个数组的底层地址</li>
<li>因为指向的是的内存地址，所以Slice是引用类型</li>
<li>Slice可以从一个数组获取生成</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [<span style="color:#bd93f9">5</span>]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>}   
    <span style="color:#6272a4">//a1 ：= []int      //一个没有明确的长度的数组，就是Slice
</span><span style="color:#6272a4"></span>    s1 <span style="color:#ff79c6">:=</span> a[<span style="color:#bd93f9">2</span>]          <span style="color:#6272a4">//s1现在指向数组a的索引为2的元素值为3
</span><span style="color:#6272a4"></span>    s2 <span style="color:#ff79c6">:=</span> a[<span style="color:#bd93f9">2</span>:<span style="color:#bd93f9">5</span>]        <span style="color:#6272a4">//s2现在指向数组a中的索引2开始的元素，一直到第5个元素(注意这里冒号后面的5不再是索引，而是第几个元素)，所以值为：345
</span><span style="color:#6272a4"></span>    s3 <span style="color:#ff79c6">:=</span> a[<span style="color:#bd93f9">2</span>:]         <span style="color:#6272a4">//跟s2一样，冒号后面没有，表示取到最后。
</span><span style="color:#6272a4"></span>    s4 <span style="color:#ff79c6">:=</span> a[:<span style="color:#bd93f9">3</span>]         <span style="color:#6272a4">//表示从索引0开始，取到第三个元素
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>Slice也可以使用函数<code>make([]T,len,cap)</code>进行创建

<ul>
<li><code>[]T</code>：表示创建一个Slice(也就是不指定长度的数组)</li>
<li><code>len</code>：长度，表示这个Slice里面包含多少个元素</li>
<li><code>cap</code>：容量，因为Slice是长度可变的，为了不浪费空间，可以指定一个大致的容量，让内存取分配指定容量的连续内存空间。当实际存储的长度大于容量是，会自动的对容量进行乘2操作，并重新寻找一块新容量大小的连续内存空间。所以在开始应该对容量有一个大致的设定，避免频繁重新创建，带来的性能损耗。</li>
<li><code>cap</code>可以省略不写，如果<code>cap</code>省略掉，那么默认就和<code>len</code>相同
<br /></li>
</ul></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//make函数的参数
</span><span style="color:#6272a4"></span>    s <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd">int</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">10</span>)
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#8be9fd;font-style:italic">len</span>(s),<span style="color:#8be9fd;font-style:italic">cap</span>(s))   <span style="color:#6272a4">//输出5，10
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p>Slice指向的是一个数组的内存地址，并不是一个独立的数组  <img src="http://ww1.sinaimg.cn/large/c55a7aeely1figzlm0oafj20lm0d5abl.jpg" alt="" /></p>

<ul>
<li>从图中可以看到，Slice_a 只包含三个元素，实际容量是包含了Array_ori这个数组的c元素开始到最后。</li>
<li>Slice_a根据内存寻址，可以找到从c开始到Array_ori这个数组结尾的所有元素，但是Slice_a本身只包含了c,d,e三个元素，这也说明了Slice指向的是一个底层数组的引用地址。</li>
<li>例如:</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang">Slice_a[<span style="color:#bd93f9">2</span>]    <span style="color:#6272a4">//得到“e”
</span><span style="color:#6272a4"></span>Slice_a[<span style="color:#bd93f9">4</span>]    <span style="color:#ff79c6">//</span>得到“g”</code></pre></td></tr></table>
</div>
</div></li>

<li><p>Reslice</p>

<ul>
<li>从一个Slice取一个新的Slice</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> [] <span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>}
    s1 <span style="color:#ff79c6">:=</span> a[<span style="color:#bd93f9">2</span>:<span style="color:#bd93f9">5</span>]     <span style="color:#6272a4">//[3,4,5]
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//s2要取3,4元素
</span><span style="color:#6272a4"></span>    s2 <span style="color:#ff79c6">:=</span> a[<span style="color:#bd93f9">2</span>:<span style="color:#bd93f9">4</span>]     <span style="color:#6272a4">//可以从元素组中取
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//也可以从s1中取，因为s1已经包含3,4这两个元素了
</span><span style="color:#6272a4"></span>    s2 <span style="color:#ff79c6">:=</span> s1[<span style="color:#bd93f9">0</span>:<span style="color:#bd93f9">2</span>]    <span style="color:#6272a4">//取s1索引0开始到第二个元素就是3，4
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>Reslice索引不可以超越被Slice的切片的容量<code>cap()</code>的值，超过之后会引发编译错误，上面的例子中<code>s2</code>取值如果这么写就是错误的：<code>s2 := s1[3:6]</code>，索引3已经超过<code>s1</code>的最大容量(<code>s1</code>的最大容量是a数组从3开始到结尾的大小，结合上面的说明理解)</li>
</ul></li>

<li><p>Append</p>

<ul>
<li>可以在Slice的结尾追加元素</li>
<li>可以把一个Slice追加到另一个Slice的尾部</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd">int</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">5</span>)   <span style="color:#6272a4">//长度为3，容量为5的slice
</span><span style="color:#6272a4"></span>    s = <span style="color:#8be9fd;font-style:italic">append</span>(s,<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>)      <span style="color:#6272a4">//把1，2两个元素追加到s的尾部，得到[0,0,0,1,2]
</span><span style="color:#6272a4"></span>
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p>如果最终追加后的长度没有超过slice的容量，那么返回的还是原来的那个slice，如果超过了，那么就会创建一个新的容量的内存空间，把数值复制到新的地址，然后返回的就是新的slice。</p>

<ul>
<li>追加后的slice没有超过原slice的容量</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd">int</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">10</span>)
    s = <span style="color:#8be9fd;font-style:italic">append</span>(s,<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>)        <span style="color:#6272a4">//追加3个元素，总元素为8，没有超过s的容量10，那么新赋值的s，指向的内存地址还是原先s的地址
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>追加后的slice超过了远slice的容量</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd">int</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">10</span>)
    s = <span style="color:#8be9fd;font-style:italic">append</span>(s,<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">6</span>)    <span style="color:#6272a4">//追加了6个元素，超过了原来s的最大容量10，那么就会创建一个新内存空间(大小为容量乘2)，将新的s复制进去，所以现在这个s指向的其实是一个新的内存地址了
</span><span style="color:#6272a4"></span>    s1 = s                      <span style="color:#6272a4">//s1指向的还是原先s的内存地址                 
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div></li>
</ul></li>

<li><p>Copy</p>

<ul>
<li><p>将一个slice拷贝到另一个slice中</p>

<ul>
<li><code>copy(拷贝到的slice,被拷贝的slice)</code></li>
<li>将长度大的slice拷贝到长度小的slice中</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s1 <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">6</span>}
    s2 <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">7</span>,<span style="color:#bd93f9">8</span>,<span style="color:#bd93f9">9</span>}
    <span style="color:#8be9fd;font-style:italic">copy</span>(s2,s1)       <span style="color:#6272a4">//表示将s1拷贝到s2中，由于s1的长度为6，s2的长度为3，那么拷贝后s2就变成了[1,2,3]，因为s2的容量只有3，所以就把s1的前三个默认拷贝到s2中去了
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>将长度小的slice拷贝到长度大的slice中</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s1 <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">6</span>,}
    s2 <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">7</span>,<span style="color:#bd93f9">8</span>,<span style="color:#bd93f9">9</span>}
    <span style="color:#8be9fd;font-style:italic">copy</span>(s1,s2)      <span style="color:#6272a4">//将s2的元素拷贝到s1当中去，拷贝后的s1变成[7,8,9,3,4,5]
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div></li>
</ul></li>

<li><p>循环slice</p></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//i取的是slice中元素的索引，v取的是slice中的每一个值
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> i,v<span style="color:#ff79c6">:=</span><span style="color:#ff79c6">range</span> slice{
        <span style="color:#6272a4">//直接给v这样赋值，是没有办法改变slice中v的值的，因为这里v获取的只是一个引用地址
</span><span style="color:#6272a4"></span>        v = <span style="color:#f1fa8c">&#34;hello&#34;</span>
        <span style="color:#6272a4">//想要赋值，可以使用
</span><span style="color:#6272a4"></span>        slice[i] = <span style="color:#f1fa8c">&#34;hello&#34;</span>
    }
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-10-map">2.10. map</h2>

<ul>
<li><code>map</code>类似c#中的<code>Dictionary</code>，以<code>key-value</code>对的形式存储数据</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#8be9fd;font-style:italic">var</span> m <span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>     <span style="color:#6272a4">//int表示key，string表示value
</span><span style="color:#6272a4"></span>    m = <span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>{}

    <span style="color:#6272a4">//或者使用make函数
</span><span style="color:#6272a4"></span>    m = <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)
    <span style="color:#6272a4">//或者最简单的
</span><span style="color:#6272a4"></span>    ma <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)
}</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    m <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)
    m[<span style="color:#bd93f9">1</span>]=<span style="color:#f1fa8c">&#34;hello&#34;</span>         <span style="color:#6272a4">//赋值key为1的map，值为“hello”
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//使用
</span><span style="color:#6272a4"></span>    a <span style="color:#ff79c6">:=</span> m[<span style="color:#bd93f9">1</span>]            <span style="color:#6272a4">//使用key取值
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//删除
</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">delete</span>(m,<span style="color:#bd93f9">1</span>)          <span style="color:#6272a4">//删除key为1的值
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>map嵌套的时候，需要对每一级的map进行make操作</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//声明一个key为int类型，value为map[int]string类型的map
</span><span style="color:#6272a4"></span>    m <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)    
    <span style="color:#6272a4">//如果直接赋值会报错例如：
</span><span style="color:#6272a4"></span>    m[<span style="color:#bd93f9">1</span>][<span style="color:#bd93f9">1</span>] = <span style="color:#f1fa8c">&#34;hello&#34;</span>     <span style="color:#6272a4">//因为value也是一个map类型，也需要初始化的
</span><span style="color:#6272a4"></span>
    <span style="color:#6272a4">//正确方式
</span><span style="color:#6272a4"></span>    m[<span style="color:#bd93f9">1</span>] = <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)
    m[<span style="color:#bd93f9">1</span>][<span style="color:#bd93f9">1</span>] = <span style="color:#f1fa8c">&#34;hello&#34;</span>
    a <span style="color:#ff79c6">:=</span> m[<span style="color:#bd93f9">1</span>][<span style="color:#bd93f9">1</span>]      <span style="color:#6272a4">//a=&#34;hello&#34;
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>判断map是否被初始化</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
     m <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)   
     a, exist = m[<span style="color:#bd93f9">2</span>][<span style="color:#bd93f9">1</span>]             <span style="color:#6272a4">//使用多返回值，判断map是否存在(初始化)，返回一个bool类型的值
</span><span style="color:#6272a4"></span>     <span style="color:#ff79c6">if</span> !exist {
         <span style="color:#6272a4">//如果不存在，就进行初始化一下
</span><span style="color:#6272a4"></span>         m[<span style="color:#bd93f9">2</span>]=<span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>)
     }
     a = m[<span style="color:#bd93f9">2</span>][<span style="color:#bd93f9">1</span>]
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>循环map</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">for</span> k,v<span style="color:#ff79c6">:=</span><span style="color:#ff79c6">range</span> <span style="color:#8be9fd;font-style:italic">map</span>{
         <span style="color:#6272a4">//k，v在这里就是key、value
</span><span style="color:#6272a4"></span>         <span style="color:#6272a4">//k,v在这里都是一个引用，直接赋值操作是不会改变map中元素的原来的值
</span><span style="color:#6272a4"></span>         <span style="color:#6272a4">//赋值可以使用这种方式
</span><span style="color:#6272a4"></span>         <span style="color:#8be9fd;font-style:italic">map</span>[k] = <span style="color:#f1fa8c">&#34;hello&#34;</span>
    }
}</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//声明一个map类型的slice
</span><span style="color:#6272a4"></span>    smap <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>,<span style="color:#bd93f9">5</span>)  
    <span style="color:#ff79c6">for</span> i,v<span style="color:#ff79c6">:=</span><span style="color:#ff79c6">range</span> smap{
        v = <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>,<span style="color:#bd93f9">2</span>)
        v[<span style="color:#bd93f9">1</span>]=<span style="color:#f1fa8c">&#34;hello&#34;</span>
        fmt.<span style="color:#50fa7b">Println</span>(v)   <span style="color:#6272a4">//输出：map[1:hello]
</span><span style="color:#6272a4"></span>    }
    fmt.<span style="color:#50fa7b">Println</span>(smap)    <span style="color:#6272a4">//这里还是一个空的未初始化的slice，因为在for循环中直接给v进行赋值操作，而此处的v只是一个引用，不会对引用本身(smap)进行修改
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//声明一个map类型的slice
</span><span style="color:#6272a4"></span>    smap <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>,<span style="color:#bd93f9">5</span>)  
    <span style="color:#6272a4">//这里我们要改变smap，就只需要索引就行了，把v隐藏掉
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> i,_<span style="color:#ff79c6">:=</span><span style="color:#ff79c6">range</span> smap{
        smap[i] = <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>,<span style="color:#bd93f9">2</span>)  <span style="color:#6272a4">//这里改变的就是smap本身了
</span><span style="color:#6272a4"></span>        smap[<span style="color:#bd93f9">1</span>]=<span style="color:#f1fa8c">&#34;hello&#34;</span>
        fmt.<span style="color:#50fa7b">Println</span>(smap[i])   <span style="color:#6272a4">//输出：map[1:hello]
</span><span style="color:#6272a4"></span>    }
    fmt.<span style="color:#50fa7b">Println</span>(smap)      <span style="color:#6272a4">//输出：[map[1:hello],map[1:hello],map[1:hello],map[1:hello],map[1:hello]]
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>map的间接排序</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span> (
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
    <span style="color:#f1fa8c">&#34;sort&#34;</span>
)
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    ma <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">map</span>[<span style="color:#8be9fd">int</span>]<span style="color:#8be9fd">string</span>{<span style="color:#bd93f9">1</span>:<span style="color:#f1fa8c">&#34;a&#34;</span>,<span style="color:#bd93f9">2</span>:<span style="color:#f1fa8c">&#34;b&#34;</span>,<span style="color:#bd93f9">3</span>:<span style="color:#f1fa8c">&#34;d&#34;</span>,<span style="color:#bd93f9">4</span>:<span style="color:#f1fa8c">&#34;e&#34;</span>,<span style="color:#bd93f9">5</span>:<span style="color:#f1fa8c">&#34;f&#34;</span>}
    <span style="color:#6272a4">//声明一个slice，长度是ma的长度
</span><span style="color:#6272a4"></span>    sl <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>([]<span style="color:#8be9fd">int</span>,<span style="color:#8be9fd;font-style:italic">len</span>(ma)) 
    i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>   <span style="color:#6272a4">//声明一个计数器
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> k,_:<span style="color:#ff79c6">range</span> ma{
        sl[i] = k
        i<span style="color:#ff79c6">++</span>
    }
    sort.<span style="color:#50fa7b">Ints</span>(s)  <span style="color:#6272a4">//使用sort包对sl进行升序排列,然后结合ma就可以对map进行简介的排序了
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(s)
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-11-函数">2.11. 函数</h2>

<ul>
<li>Go语言的函数不支持嵌套、重载和默认参数</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//没有参数。没有返回值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(){

}
<span style="color:#6272a4">//有参数，没有返回值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fb</span>(a <span style="color:#8be9fd">int</span>,b <span style="color:#8be9fd">string</span>){

}
<span style="color:#6272a4">//有参数，有一个返回值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fc</span>(a <span style="color:#8be9fd">int</span>,b <span style="color:#8be9fd">string</span>) <span style="color:#8be9fd">int</span> {

}
<span style="color:#6272a4">//有参数，有多个返回值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fd</span>(a <span style="color:#8be9fd">int</span>,b <span style="color:#8be9fd">string</span>) (<span style="color:#8be9fd">int</span>,<span style="color:#8be9fd">string</span>,<span style="color:#8be9fd">byte</span>){

}
<span style="color:#6272a4">//相同类型的参数、返回值可以简写
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">ff</span>(a,b,c <span style="color:#8be9fd">int</span>) (c,d,e <span style="color:#8be9fd">int</span>){
    <span style="color:#6272a4">//这种命名返回值参数，相当于已经创建了相应的参数，如果再次创建就会出错
</span><span style="color:#6272a4"></span>    c <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">10</span>     <span style="color:#6272a4">//这是不行的，因为返回值是命名返回值
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">return</span> a, b, c
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>不定长变参</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//不定长变参(其实就是相当于传入了一个slice类型)
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(a <span style="color:#ff79c6">...</span><span style="color:#8be9fd">int</span>){

}
<span style="color:#6272a4">//当有其他参数时
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fb</span>(b <span style="color:#8be9fd">string</span>,a <span style="color:#ff79c6">...</span><span style="color:#8be9fd">int</span>){
    <span style="color:#6272a4">//不定长参数必须放在所有参数的最后
</span><span style="color:#6272a4"></span>}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#50fa7b">fa</span>(<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>int、string值类型参数传递</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a,b <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>
    <span style="color:#50fa7b">fa</span>(a,b)
    fmt.<span style="color:#50fa7b">Println</span>(a,b)    <span style="color:#6272a4">//输出1，2 虽然这里对传进来的a,b进行了重新赋值，但是因为传递进来的是值的拷贝，并没有对a,b本身进行修改，所以还是原来的1，2
</span><span style="color:#6272a4"></span>}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(a <span style="color:#ff79c6">...</span><span style="color:#8be9fd">int</span>){
    a[<span style="color:#bd93f9">0</span>] = <span style="color:#bd93f9">3</span>
    a[<span style="color:#bd93f9">1</span>] = <span style="color:#bd93f9">4</span>
    fmt.<span style="color:#50fa7b">Println</span>(a)      <span style="color:#6272a4">//输出3，4  
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>slice引用类型作为参数传递，传递的是内存地址的拷贝</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    s <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>}
    <span style="color:#50fa7b">fa</span>(s)
    fmt.<span style="color:#50fa7b">Println</span>(s)       <span style="color:#6272a4">//输出的是[3,4] ，因为slice传递的是内存地址的拷贝，改变的是slice本身
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(a []<span style="color:#8be9fd">int</span>){
    a[<span style="color:#bd93f9">0</span>] = <span style="color:#bd93f9">3</span>
    a[<span style="color:#bd93f9">1</span>] = <span style="color:#bd93f9">4</span>
    fmt.<span style="color:#50fa7b">Println</span>(a)     <span style="color:#6272a4">//输出的是[3,4]
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>传递引用类型，使用指针修改参数本身</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#50fa7b">fa</span>(<span style="color:#ff79c6">&amp;</span>a)      <span style="color:#6272a4">//传递变量a的内存地址
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(a)       <span style="color:#6272a4">//输出：2 ,因为传递的是a变量的内存地址，在fa函数中实际上就是对a本身进行操作了
</span><span style="color:#6272a4"></span>}
<span style="color:#6272a4">//传递一个指针类型
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(a <span style="color:#ff79c6">*</span><span style="color:#8be9fd">int</span>){
    <span style="color:#ff79c6">*</span>a = <span style="color:#bd93f9">2</span>
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#ff79c6">*</span>a)      <span style="color:#6272a4">//输出：2
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>函数可以作为类型使用</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> fa
    <span style="color:#50fa7b">a</span>()     <span style="color:#6272a4">//把函数fa当作类型参数赋值，然后调用
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hello&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>匿名函数的使用</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">func</span> (){
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hello&#34;</span>)
    }
    <span style="color:#50fa7b">a</span>()    <span style="color:#6272a4">//直接把匿名函数赋值，然后调用
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>闭包</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    f <span style="color:#ff79c6">:=</span> <span style="color:#50fa7b">closure</span>(<span style="color:#bd93f9">10</span>)   <span style="color:#6272a4">//将函数赋值给变量
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#50fa7b">f</span>(<span style="color:#bd93f9">1</span>))  <span style="color:#6272a4">//输出11
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#50fa7b">f</span>(<span style="color:#bd93f9">2</span>))  <span style="color:#6272a4">//输出12
</span><span style="color:#6272a4"></span>}
<span style="color:#6272a4">//声明一个接受int类型参数，返回值是一个匿名函数的函数
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">closure</span>(x <span style="color:#8be9fd">int</span>) <span style="color:#8be9fd;font-style:italic">func</span>(<span style="color:#8be9fd">int</span>) <span style="color:#8be9fd">int</span>{
    <span style="color:#6272a4">//closure函数的返回值是一个匿名函数，接受一个int参数，返回一个int值
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">func</span>(y <span style="color:#8be9fd">int</span>) <span style="color:#8be9fd">int</span>{
        <span style="color:#ff79c6">return</span> x <span style="color:#ff79c6">+</span> y
    }
}</code></pre></td></tr></table>
</div>
</div>
<h3 id="2-11-1-defer">2.11.1. defer</h3>

<ul>
<li>类似于其他语言中的析构函数，在函数体执行结束后，按照调用顺序相反的顺序捉个执行一遍</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>; i &lt; <span style="color:#bd93f9">3</span>; i<span style="color:#ff79c6">++</span>{
        <span style="color:#ff79c6">defer</span> fmt.<span style="color:#50fa7b">Println</span>(i)    <span style="color:#6272a4">//输出的结果是2，1，0，因为defer是按照调用相反的顺序执行的
</span><span style="color:#6272a4"></span>    } 
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>即使函数发生严重的错误，defer也会正常执行</li>
<li>支持匿名函数调用</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>; i &lt; <span style="color:#bd93f9">3</span>; i<span style="color:#ff79c6">++</span>{
       <span style="color:#ff79c6">defer</span> <span style="color:#8be9fd;font-style:italic">func</span>(){
            fmt.<span style="color:#50fa7b">Println</span>(i)    <span style="color:#6272a4">//输出3,3,3 因为defer是按照相反的顺序执行的，正常结果应该就是3,2,输出3，3，3是因为在函数里面的i是值的引用，所以在调用的时候拿到的i都是最后一次调用过后的3
</span><span style="color:#6272a4"></span>       }()     <span style="color:#6272a4">//最后的括号表示调用这个函数，defer可以用来调用函数，这里就相当于赋值变量后 fa() 这样
</span><span style="color:#6272a4"></span>    } 
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>Go语言没有异常处理机制，没有c#中<code>try cache</code>语句</li>

<li><p>在Go语言中可以使用<code>panic</code>/<code>recover</code>模式来处理错误</p>

<ul>
<li><code>panic</code>可以在任何地方引发错误抛出</li>
<li><code>recover</code>只能在<code>defer</code>调用的函数中有效，因为使用<code>recover</code>的时候错误已经引发了，只能借助于<code>defer</code>进行一些“恢复”操作</li>
<li><code>recover</code>可以返回<code>panic</code>信息</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){

}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;func fa&#34;</span>)
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fb</span>(){
    <span style="color:#6272a4">//defer如果放在panic 后面，那么就执行不了recover了，因为程序走到panic的时候就已经停止不会往下走了，所以需要在开始就注册recover，在有panic信息抛出，就执行recover
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">defer</span> <span style="color:#8be9fd;font-style:italic">func</span>(){
        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">recover</span>(); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span>{
            <span style="color:#6272a4">//获取到了panic信息
</span><span style="color:#6272a4"></span>            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;recover fb&#34;</span>);
        }
    }
    <span style="color:#8be9fd;font-style:italic">panic</span>(<span style="color:#f1fa8c">&#34;panic fb&#34;</span>)   <span style="color:#6272a4">//引发错误
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fc</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;func fc&#34;</span>)
}

<span style="color:#6272a4">//在没有写defer的时候最终输出
</span><span style="color:#6272a4"></span><span style="color:#6272a4">/*
</span><span style="color:#6272a4">func fa
</span><span style="color:#6272a4">panic fb
</span><span style="color:#6272a4">...
</span><span style="color:#6272a4">other err info
</span><span style="color:#6272a4">*/</span>

<span style="color:#6272a4">//在写有defer recover的时候会输出
</span><span style="color:#6272a4"></span><span style="color:#6272a4">/*
</span><span style="color:#6272a4">func fa
</span><span style="color:#6272a4">recover fb
</span><span style="color:#6272a4">func fc
</span><span style="color:#6272a4">*/</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h2 id="2-12-结构struct">2.12. 结构struct</h2>

<ul>
<li>Go语言中没有<code>class</code>的概念，而<code>struct</code>就相当于go语言中的类</li>
<li><code>struct</code>是一种类型(type)</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//声明一个名称为person的struct
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>     <span style="color:#6272a4">//一个string类型的属性Name
</span><span style="color:#6272a4"></span>    Age <span style="color:#8be9fd">int</span>         <span style="color:#6272a4">//一个int类型的属性Age
</span><span style="color:#6272a4"></span>}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//声明一个person类型的变量
</span><span style="color:#6272a4"></span>    a <span style="color:#ff79c6">:=</span> person{}
    a.Name = <span style="color:#f1fa8c">&#34;lisan&#34;</span>
    a.Age = <span style="color:#bd93f9">11</span>
    fmt.<span style="color:#50fa7b">Println</span>(a)   <span style="color:#6272a4">//输出：{lisan 11}
</span><span style="color:#6272a4"></span>
    <span style="color:#6272a4">//常用的形式是，直接初始化
</span><span style="color:#6272a4"></span>    b <span style="color:#ff79c6">:=</span> person{
        Name : <span style="color:#f1fa8c">&#34;lisan&#34;</span>,
        Age : <span style="color:#bd93f9">11</span>
    }
    fmt.<span style="color:#50fa7b">Println</span>(b)   <span style="color:#6272a4">//输出：{lisan 11}
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>struct</code>是一个值类型，传递的时候是值拷贝，在其他函数中修改改变不了值本身，希望做改变的时候，可以使用指针传递</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//一般在初始化的时候，直接对struct进行取地址的操作，方便在之后调用的时候，可以拿到地址引用修改struct本身的数值
</span><span style="color:#6272a4"></span>    a <span style="color:#ff79c6">:=</span> <span style="color:#ff79c6">&amp;</span>person{
        Name = <span style="color:#f1fa8c">&#34;lisan&#34;</span>,
        Age = <span style="color:#bd93f9">11</span>
    }

    <span style="color:#6272a4">//调用改变person的Age值的函数
</span><span style="color:#6272a4"></span>    <span style="color:#50fa7b">fa</span>(a)
}
<span style="color:#6272a4">//因为声明的a是person的内存地址，所以在传入参数的地方使用指针(*)，这样就可以使用内存地址对person进行实际的修改了
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">fa</span>(per <span style="color:#ff79c6">*</span>person){
    per.Age = <span style="color:#bd93f9">20</span>
    fmt.<span style="color:#50fa7b">Println</span>(per)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>匿名结构</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">struct</span>{  <span style="color:#6272a4">//直接声明一个没有名称的struct
</span><span style="color:#6272a4"></span>        Name <span style="color:#8be9fd">string</span>
        Age <span style="color:#8be9fd">int</span>
    }{  <span style="color:#6272a4">//声明完成后接着执行初始化操作
</span><span style="color:#6272a4"></span>        Name : <span style="color:#f1fa8c">&#34;lisan&#34;</span>,
        Age : <span style="color:#bd93f9">11</span>
    }

    <span style="color:#6272a4">//如果需要传递内存地址,写上&amp;符号就可以了
</span><span style="color:#6272a4"></span>    b <span style="color:#ff79c6">:=</span> <span style="color:#ff79c6">&amp;</span><span style="color:#8be9fd;font-style:italic">struct</span>{
        Name <span style="color:#8be9fd">string</span>
    }{
        Name = <span style="color:#f1fa8c">&#34;lisan&#34;</span>
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>嵌套struct</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
    Contact <span style="color:#8be9fd;font-style:italic">struct</span>{   <span style="color:#6272a4">//person的Contact属性又是一个struct
</span><span style="color:#6272a4"></span>        Phone, Address <span style="color:#8be9fd">string</span> 
    }
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> person{
        Name : <span style="color:#f1fa8c">&#34;lisan&#34;</span>,
        Age : <span style="color:#bd93f9">11</span>
        <span style="color:#6272a4">//Contact是一个嵌套struct，不能再这么初始化了
</span><span style="color:#6272a4"></span>    }
    a.Contact.Phone = <span style="color:#f1fa8c">&#34;13233333&#34;</span>
    a.Contact.Address = <span style="color:#f1fa8c">&#34;china&#34;</span>
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>匿名字段</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    <span style="color:#8be9fd">string</span>     <span style="color:#6272a4">//没有字段名称，只有类型
</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> person{
        <span style="color:#f1fa8c">&#34;lisan&#34;</span>,
        <span style="color:#bd93f9">11</span>
    }
    fmt.<span style="color:#50fa7b">Println</span>(a)

    <span style="color:#6272a4">//下面这种初始化会发生错误
</span><span style="color:#6272a4"></span>    b <span style="color:#ff79c6">:=</span> person{
        <span style="color:#bd93f9">11</span>,      <span style="color:#6272a4">//因为这里使用的是匿名字段，初始化的时候只能根据
</span><span style="color:#6272a4"></span>        <span style="color:#f1fa8c">&#34;lisan&#34;</span>  <span style="color:#6272a4">//类型的顺序进行匹配，所以一定要严格按照声明匿名
</span><span style="color:#6272a4"></span>    }            <span style="color:#6272a4">//struct的字段类型顺序进行初始化
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>相同类型的struct相互之间可以进行赋值</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> person{Name : <span style="color:#f1fa8c">&#34;lisan&#34;</span>,Age : <span style="color:#bd93f9">11</span>}
    <span style="color:#6272a4">//声明一个person类型的变量b
</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">var</span> b person
    <span style="color:#6272a4">//将a赋值给b的操作是允许的
</span><span style="color:#6272a4"></span>    b = a
    fmt.<span style="color:#50fa7b">Println</span>(b)    <span style="color:#6272a4">//输出的跟a相同
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>两个名称不同的struct，尽管它们的字段一致，它们也是两个不同的类型，它们之间不能进行比较个赋值。</li>
<li>使用嵌入结构实现类似继承的能力</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> person <span style="color:#8be9fd;font-style:italic">struct</span>{
    Sex <span style="color:#8be9fd">int</span>
}

<span style="color:#8be9fd;font-style:italic">type</span> teacher <span style="color:#8be9fd;font-style:italic">struct</span>{
    person           <span style="color:#6272a4">//把一个struct当作字段放来
</span><span style="color:#6272a4"></span>    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">type</span> student <span style="color:#8be9fd;font-style:italic">struct</span>{
    person
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
        <span style="color:#6272a4">//因为前面说过匿名字段，这里的person相当与一个匿名字段，
</span><span style="color:#6272a4"></span>        <span style="color:#6272a4">//但是如果直接初始化会报错，这种组合关系，会给person类型一
</span><span style="color:#6272a4"></span>        <span style="color:#6272a4">//认的名字，和类型相同，这样初始化操作就可以
</span><span style="color:#6272a4"></span>    a <span style="color:#ff79c6">:=</span> teacher{Name : <span style="color:#f1fa8c">&#34;zhangsan&#34;</span>,Age : <span style="color:#bd93f9">29</span>,person : person{Sex : <span style="color:#bd93f9">1</span>}}
    b <span style="color:#ff79c6">:=</span> student{Name : <span style="color:#f1fa8c">&#34;lisi&#34;</span>,Age : <span style="color:#bd93f9">11</span>,person : person{Sex : <span style="color:#bd93f9">0</span>}}

    <span style="color:#6272a4">//调用的时候可以直接使用
</span><span style="color:#6272a4"></span>    a.Sex = <span style="color:#bd93f9">1</span>
    b.Sex = <span style="color:#bd93f9">0</span>
    <span style="color:#6272a4">//也可以这样调用
</span><span style="color:#6272a4"></span>    a.person.Sex = <span style="color:#bd93f9">1</span>
    b.person.Sex = <span style="color:#bd93f9">0</span>
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p>嵌入结构，同名字段的处理</p>

<ul>
<li>单层嵌套</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> sa <span style="color:#8be9fd;font-style:italic">struct</span>{
    sb
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">type</span> sb <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> sa{ Name : <span style="color:#f1fa8c">&#34;sa&#34;</span>,sb : sb{Name : <span style="color:#f1fa8c">&#34;sb&#34;</span>}}
    <span style="color:#6272a4">//a.Name就会找sa中的Namw字段
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//a.sb.Name就会找sb中的Name字段
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(a.Name,a.sb.Name)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>多层嵌入</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> sa <span style="color:#8be9fd;font-style:italic">struct</span>{
    sb
    sc
}
<span style="color:#8be9fd;font-style:italic">type</span> sb <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">type</span> sc <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> sa{sb : {Name : <span style="color:#f1fa8c">&#34;sb&#34;</span>},sc : {Name : <span style="color:#f1fa8c">&#34;sc&#34;</span>}}
    fmt.<span style="color:#50fa7b">Println</span>(a.Name) <span style="color:#6272a4">//这里会报错，因为sb、sc里面都有Name字段，没有办法判断该调用哪个,可以使用a.sb.Name 、a.sc.Name
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h2 id="2-13-方法method">2.13. 方法method</h2>

<ul>
<li>相当于是c#中的扩展方法，给某一个类型(type)编写额外的扩展方法，供类型(type)调用</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> sa <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">type</span> sb strut{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> sa{}
    a.<span style="color:#50fa7b">PrintName</span>()   <span style="color:#6272a4">//因为是给类型sa绑定的方法，所以可以像c#中那样调用
</span><span style="color:#6272a4"></span>
    b <span style="color:#ff79c6">:=</span> sb{}
    b.<span style="color:#50fa7b">PrintName</span>()
}

<span style="color:#6272a4">//method
</span><span style="color:#6272a4">//虽然两个方法都是Print，但是因为传入的参数不同，所以是两个不同的方法
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> (a sa) <span style="color:#50fa7b">PrintName</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;sa&#34;</span>)
}
<span style="color:#8be9fd;font-style:italic">func</span> (a sb) <span style="color:#50fa7b">PrintName</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;sb&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>方法同样可以传入指针，对参数本身进行修改</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> sa <span style="color:#8be9fd;font-style:italic">struct</span>{
    Name <span style="color:#8be9fd">string</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    a <span style="color:#ff79c6">:=</span> sa{Name:<span style="color:#f1fa8c">&#34;zhangsan&#34;</span>}
    fmt.<span style="color:#50fa7b">Println</span>(a.Name)    <span style="color:#6272a4">//zhangsan
</span><span style="color:#6272a4"></span>    a.<span style="color:#50fa7b">EditName</span>()           <span style="color:#6272a4">//因为调用这个方法传入的是指针，所以修改了Name本身的值
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(a.Name)    <span style="color:#6272a4">//lisi
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> (a <span style="color:#ff79c6">*</span>sa) <span style="color:#50fa7b">EditName</span>() {
    a.Name = <span style="color:#f1fa8c">&#34;lisi&#34;</span>
    fmt.<span style="color:#50fa7b">Println</span>(a.Name)    <span style="color:#6272a4">//lisi
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>使用底层类型方法</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> IN <span style="color:#8be9fd">int</span>  <span style="color:#6272a4">//声明一个底层为int类型的type
</span><span style="color:#6272a4"></span>
<span style="color:#8be9fd;font-style:italic">func</span> (i <span style="color:#ff79c6">*</span>IN) <span style="color:#50fa7b">Add</span>(num <span style="color:#8be9fd">int</span>){
    <span style="color:#ff79c6">*</span>i <span style="color:#ff79c6">+=</span> <span style="color:#50fa7b">IN</span>(num)  <span style="color:#6272a4">//i是IN类型的，num是int类型的，虽然IN底层是int，但是不同的两个类型，所以要进行强制转换
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#8be9fd;font-style:italic">var</span> a IN
    a.<span style="color:#50fa7b">Add</span>(<span style="color:#bd93f9">100</span>)
    fmt.<span style="color:#50fa7b">Println</span>(a)
}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-14-接口interface">2.14. 接口interface</h2>

<ul>
<li>接口是一个或多个方法签名的集合(类似c#中的接口，只有声明，没有具体的实现)</li>
<li>只要某个类型拥有某个接口的所有的方法签名，那么就算是这个类型实现了该接口，而无需显示的声明实现了哪个接口(在c#中实现一个接口是在类的名字后面写上冒号，然后写接口名，go语言中无需这样做)</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//声明一个接口
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">type</span> USB <span style="color:#8be9fd;font-style:italic">interface</span>{
    <span style="color:#50fa7b">Name</span>() <span style="color:#8be9fd">string</span>    <span style="color:#6272a4">//一个返回string类型的方法Name
</span><span style="color:#6272a4"></span>    <span style="color:#50fa7b">Connect</span>()        <span style="color:#6272a4">//一个没有返回值的方法Connect
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">type</span> PhoneConnect <span style="color:#8be9fd;font-style:italic">struct</span>{
    name <span style="color:#8be9fd">string</span>
}
<span style="color:#6272a4">//结构PhoneConnect实现了接口USB的所有方法，所以就说明结构PhoneConnect实现了接口USB
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> (ph PhoneConnect) <span style="color:#50fa7b">Name</span>() <span style="color:#8be9fd">string</span>{
    <span style="color:#ff79c6">return</span> ph.Name    
}
<span style="color:#8be9fd;font-style:italic">func</span> (ph PhoneConnect) <span style="color:#50fa7b">Connect</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Connected:&#34;</span>,pc.Name)    
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#8be9fd;font-style:italic">var</span> a USB
    <span style="color:#6272a4">//a虽然是USB类型的参数，但是由于PhoneConnect实现了USB接口，所以可以给a赋值一个PhoneConnect类型
</span><span style="color:#6272a4"></span>    a = PhoneConnect{name:<span style="color:#f1fa8c">&#34;PhoneConnect&#34;</span>}
    a.<span style="color:#50fa7b">Connect</span>()       <span style="color:#6272a4">//输出“Connected:PhoneConnect”
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以嵌入接口</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//声明一个接口
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">type</span> USB <span style="color:#8be9fd;font-style:italic">interface</span>{
    <span style="color:#50fa7b">Name</span>() <span style="color:#8be9fd">string</span>    
    Connecter    <span style="color:#6272a4">//这里把一个接口嵌入进来
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">type</span> Connecter <span style="color:#8be9fd;font-style:italic">interface</span>{
    <span style="color:#50fa7b">Connect</span>()
}
<span style="color:#8be9fd;font-style:italic">type</span> PhoneConnect <span style="color:#8be9fd;font-style:italic">struct</span>{
    name <span style="color:#8be9fd">string</span>
}

<span style="color:#8be9fd;font-style:italic">func</span> (ph PhoneConnect) <span style="color:#50fa7b">Name</span>() <span style="color:#8be9fd">string</span>{
    <span style="color:#ff79c6">return</span> ph.Name    
}
<span style="color:#6272a4">//Connect方法是嵌入进接口USB的，也是USB接口的声明，需要实现它
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> (ph PhoneConnect) <span style="color:#50fa7b">Connect</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Connected:&#34;</span>,pc.Name)    
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#8be9fd;font-style:italic">var</span> a USB
    a = PhoneConnect{name:<span style="color:#f1fa8c">&#34;PhoneConnect&#34;</span>}
    a.<span style="color:#50fa7b">Connect</span>()       <span style="color:#6272a4">//输出“Connected:PhoneConnect”
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>接口调用</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//编写一个判断传入对象的方法
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Disconnect</span>(usb USB){
    <span style="color:#6272a4">//判断传入这个方法的是不是“PhoneConnect”类型，如果是就执行一些操作
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">if</span> ph,ok <span style="color:#ff79c6">:=</span> usb.(PhoneConnect); ok{
         <span style="color:#6272a4">//输出：“Disconnected：PhoneConnect”
</span><span style="color:#6272a4"></span>        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Disconnected:&#34;</span>,ph.name)  
        <span style="color:#ff79c6">return</span>
    }
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;No PhoneConnect&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>所有的类型的父接口，就是一个空的接口(相当于就是c#中的<code>System.Object</code>)，理论上来说所有的类型都实现了一个空接口</li>
<li>简单工厂</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//方法接受一个空接口，也就是可以传入进来任何值
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Disconnect</span>(usb <span style="color:#8be9fd;font-style:italic">interface</span>{}){
    <span style="color:#6272a4">//根据传入的值的类型，做出不同的操作
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">switch</span> v <span style="color:#ff79c6">:=</span> usb.(<span style="color:#8be9fd;font-style:italic">type</span>){   <span style="color:#6272a4">//这里的type就是让系统判断传入的类型
</span><span style="color:#6272a4"></span>        <span style="color:#ff79c6">case</span> PhoneConnect:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Disconnected:&#34;</span>,v.name)
        <span style="color:#ff79c6">default</span>:
            fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;No PhoneConnect&#34;</span>)
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>接口之间可以互相转换：按照上面的例子，因为接口<code>USB</code>包含了接口<code>Connecter</code>,所以接口<code>USB</code>可以转换成<code>Connecter</code>,但是<code>Connecter</code>不能转换乘<code>USB</code>,这里有一个包含和被包含的关系</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#6272a4">//a是接口USB变量
</span><span style="color:#6272a4"></span>    a <span style="color:#ff79c6">:=</span> PhoneConnect{<span style="color:#f1fa8c">&#34;PhoneConnect&#34;</span>}  
    <span style="color:#8be9fd;font-style:italic">var</span> b Connecter
    b = <span style="color:#50fa7b">Connecter</span>(a)    <span style="color:#6272a4">//Connecter可以转换为USB去执行
</span><span style="color:#6272a4"></span>    a.<span style="color:#50fa7b">Connect</span>()    <span style="color:#6272a4">//输出“Connected:PhoneConnect”
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//但是b中没有USB的Name方法，因为Connecter是被USB包含的，拿不到上一级的成员
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-15-反射reflection">2.15. 反射reflection</h2>

<ul>
<li>反射使用<code>TypeOf</code>和<code>ValueOf</code>函数从接口中获取目标对象信息。</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">package</span> main
<span style="color:#ff79c6">import</span> (
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
    <span style="color:#f1fa8c">&#34;reflect&#34;</span>    <span style="color:#6272a4">//反射包
</span><span style="color:#6272a4"></span>)
<span style="color:#8be9fd;font-style:italic">type</span> User <span style="color:#8be9fd;font-style:italic">struct</span>{
    Id <span style="color:#8be9fd">int</span>
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> (u User) <span style="color:#50fa7b">Hello</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hello&#34;</span>)
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    u <span style="color:#ff79c6">:=</span> User{<span style="color:#bd93f9">1</span>,<span style="color:#f1fa8c">&#34;OK&#34;</span>,<span style="color:#bd93f9">12</span>}
    <span style="color:#6272a4">//传入结构类型的值u
</span><span style="color:#6272a4"></span>    <span style="color:#50fa7b">Info</span>(o)
}

<span style="color:#6272a4">//传入一个空接口(即可以传入任何类型的参数)
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Info</span>(o <span style="color:#8be9fd;font-style:italic">interface</span>{}){
    <span style="color:#6272a4">//反射获取参数o的类型信息
</span><span style="color:#6272a4"></span>    t <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">TypeOf</span>(o)
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Type:&#34;</span>,t.<span style="color:#50fa7b">Name</span>())

    v <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">ValueOf</span>(o)
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Fields:&#34;</span>)

    <span style="color:#6272a4">//获取值信息需要使用循环(因为有多个字段)
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//NumField函数可以获取类型中字段的个数
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>;i &lt; t.<span style="color:#50fa7b">NumField</span>(); i<span style="color:#ff79c6">++</span>{
        f <span style="color:#ff79c6">:=</span> t.<span style="color:#50fa7b">Field</span>(i)    <span style="color:#6272a4">//根据字段的索引，获取字段的信息
</span><span style="color:#6272a4"></span>        val <span style="color:#ff79c6">:=</span> v.<span style="color:#50fa7b">Field</span>(i).<span style="color:#50fa7b">Interface</span>()  <span style="color:#6272a4">//取出字段对应的值
</span><span style="color:#6272a4"></span>        fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%6s: %v = %v\n&#34;</span>,f.Name,f.Type,val)
    }
    <span style="color:#6272a4">//获取参数o的方法信息
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">0</span>; i &lt; t.<span style="color:#50fa7b">NumMethod</span>(); i<span style="color:#ff79c6">++</span>{
        m <span style="color:#ff79c6">:=</span> t.<span style="color:#50fa7b">Method</span>(i)
        fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%6s : %v\n&#34;</span>,m.Name,m.Type)
    }
}</code></pre></td></tr></table>
</div>
</div>
<p>输出结果</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Shell" data-lang="Shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Shell" data-lang="Shell">Type: User
Fields: 
   Id: <span style="color:#8be9fd;font-style:italic">int</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>
 Name: <span style="color:#8be9fd;font-style:italic">string</span> <span style="color:#ff79c6">=</span> OK
  Age: <span style="color:#8be9fd;font-style:italic">int</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12</span>
Hello: func<span style="color:#ff79c6">(</span>main.User<span style="color:#ff79c6">)</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>如果传入反射的参数是一个地址引用，那么使用上面的方法就会出错，可以使用if判断一下</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    u <span style="color:#ff79c6">:=</span> User{<span style="color:#bd93f9">1</span>,<span style="color:#f1fa8c">&#34;OK&#34;</span>,<span style="color:#bd93f9">12</span>}
    <span style="color:#50fa7b">Info</span>(<span style="color:#ff79c6">&amp;</span>o)
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Info</span>(o Interface{}){
    <span style="color:#ff79c6">if</span> k <span style="color:#ff79c6">:=</span> t.<span style="color:#50fa7b">Kind</span>(); k <span style="color:#ff79c6">!=</span> reflect.Struct{
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;传入的参数不是Sstruct&#34;</span>)
        <span style="color:#ff79c6">return</span>
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>反射匿名、嵌入字段</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> User <span style="color:#8be9fd;font-style:italic">struct</span>{
    Id <span style="color:#8be9fd">int</span>
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">type</span> Manager <span style="color:#8be9fd;font-style:italic">struct</span>{
    User    <span style="color:#6272a4">//匿名字段(结构类型)
</span><span style="color:#6272a4"></span>    title <span style="color:#8be9fd">string</span> 
}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    m <span style="color:#ff79c6">:=</span> Manager{User:User{<span style="color:#bd93f9">1</span>,<span style="color:#f1fa8c">&#34;OK&#34;</span>,<span style="color:#bd93f9">12</span>},title:<span style="color:#f1fa8c">&#34;haha&#34;</span>}
    t <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">TypeOf</span>(m)

    <span style="color:#6272a4">//输出1
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%#v\n&#34;</span>,t.<span style="color:#50fa7b">Field</span>(<span style="color:#bd93f9">0</span>))
    <span style="color:#6272a4">//输出2
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%#v\n&#34;</span>,t.<span style="color:#50fa7b">Field</span>(<span style="color:#bd93f9">1</span>))

    <span style="color:#6272a4">//上面两个取的都是Magager的两个字段，但是匿名字段User中的怎么取呢
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//输出3
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%#v\n&#34;</span>,t.<span style="color:#50fa7b">FieldByIndex</span>([]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">0</span>}))
     <span style="color:#6272a4">//输出4
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Printf</span>(<span style="color:#f1fa8c">&#34;%#v\n&#34;</span>,t.<span style="color:#50fa7b">FieldByIndex</span>([]<span style="color:#8be9fd">int</span>{<span style="color:#bd93f9">0</span>,<span style="color:#bd93f9">1</span>}))
}</code></pre></td></tr></table>
</div>
</div>
<p>输出：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Shell" data-lang="Shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Shell" data-lang="Shell">//输出1：可以看到根据索引，输出了第一个字段<span style="color:#ff79c6">(</span>匿名字段<span style="color:#ff79c6">)</span>的类型信息最后一个参数很特殊：Anonymous，值为true的时候表示这个字段是匿名字段，反之就不是匿名字段
reflect.StructField<span style="color:#ff79c6">{</span>Name:<span style="color:#f1fa8c">&#34;User&#34;</span>, PkgPath:<span style="color:#f1fa8c">&#34;&#34;</span>, Type:<span style="color:#ff79c6">(</span>*reflect.rtype<span style="color:#ff79c6">)(</span>0x4a4000<span style="color:#ff79c6">)</span>, Tag:<span style="color:#f1fa8c">&#34;&#34;</span>, Offset:0x0, Index:<span style="color:#ff79c6">[]</span>int<span style="color:#ff79c6">{</span><span style="color:#bd93f9">0</span><span style="color:#ff79c6">}</span>, Anonymous:true<span style="color:#ff79c6">}</span>

输出2：这个也输出了第二个字段的信息，最后一个参数Anonymous值为false，说明这个字段不是匿名字段
reflect.StructField<span style="color:#ff79c6">{</span>Name:<span style="color:#f1fa8c">&#34;title&#34;</span>, PkgPath:<span style="color:#f1fa8c">&#34;main&#34;</span>, Type:<span style="color:#ff79c6">(</span>*reflect.rtype<span style="color:#ff79c6">)(</span>0x4988e0<span style="color:#ff79c6">)</span>, Tag:<span style="color:#f1fa8c">&#34;&#34;</span>, Offset:0x20, Index:<span style="color:#ff79c6">[]</span>int<span style="color:#ff79c6">{</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">}</span>, Anonymous:false<span style="color:#ff79c6">}</span>

//输出3：可以看出来这里取到了User中的Id字段的信息
reflect.StructField<span style="color:#ff79c6">{</span>Name:<span style="color:#f1fa8c">&#34;Id&#34;</span>, PkgPath:<span style="color:#f1fa8c">&#34;&#34;</span>, Type:<span style="color:#ff79c6">(</span>*reflect.rtype<span style="color:#ff79c6">)(</span>0x4982e0<span style="color:#ff79c6">)</span>, Tag:<span style="color:#f1fa8c">&#34;&#34;</span>, Offset:0x0, Index:<span style="color:#ff79c6">[]</span>int<span style="color:#ff79c6">{</span><span style="color:#bd93f9">0</span><span style="color:#ff79c6">}</span>, Anonymous:false<span style="color:#ff79c6">}</span>

//输出4：
reflect.StructField<span style="color:#ff79c6">{</span>Name:<span style="color:#f1fa8c">&#34;Name&#34;</span>, PkgPath:<span style="color:#f1fa8c">&#34;&#34;</span>, Type:<span style="color:#ff79c6">(</span>*reflect.rtype<span style="color:#ff79c6">)(</span>0x498860<span style="color:#ff79c6">)</span>, Tag:<span style="color:#f1fa8c">&#34;&#34;</span>, Offset:0x8, Index:<span style="color:#ff79c6">[]</span>int<span style="color:#ff79c6">{</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">}</span>, Anonymous:false<span style="color:#ff79c6">}</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>反射修改字段的值</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    i <span style="color:#ff79c6">:=</span> <span style="color:#bd93f9">111</span>
    v <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">ValueOf</span>(<span style="color:#ff79c6">&amp;</span>i)    <span style="color:#6272a4">//传入内存地址，获取int类型i的值
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//通过Elem()方法取到实际的对象，然后使用SetInt方法给该变量赋值
</span><span style="color:#6272a4"></span>    v.<span style="color:#50fa7b">Elem</span>().<span style="color:#50fa7b">SetInt</span>(<span style="color:#bd93f9">222</span>)  

    fmt.<span style="color:#50fa7b">Println</span>(i)    <span style="color:#6272a4">//输出222
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>反射修改struct的字段值</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> User <span style="color:#8be9fd;font-style:italic">struct</span>{
    Id <span style="color:#8be9fd">int</span>
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    u <span style="color:#ff79c6">:=</span> User{<span style="color:#bd93f9">1</span>,<span style="color:#f1fa8c">&#34;haha&#34;</span>,<span style="color:#bd93f9">12</span>}
    <span style="color:#50fa7b">Set</span>(<span style="color:#ff79c6">&amp;</span>u)   <span style="color:#6272a4">//传入指针地址
</span><span style="color:#6272a4"></span>    fmt.<span style="color:#50fa7b">Println</span>(u)   <span style="color:#6272a4">//输出:{1 heiheihei 12}
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Set</span>(o <span style="color:#8be9fd;font-style:italic">interface</span>{}){
    v <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">ValueOf</span>(o)

    <span style="color:#6272a4">//判断反射的value是不是一个引用地址，并且是不是可以被修改的
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">if</span> v.<span style="color:#50fa7b">Kind</span>() <span style="color:#ff79c6">==</span> reflect.Ptr <span style="color:#ff79c6">&amp;&amp;</span> !v.<span style="color:#50fa7b">Elem</span>().<span style="color:#50fa7b">CanSet</span>() {
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;reflect error&#34;</span>)
        <span style="color:#ff79c6">return</span> 
    }<span style="color:#ff79c6">else</span>{
        v = v.<span style="color:#50fa7b">Elem</span>()   <span style="color:#6272a4">//v定义的是反射出来的value，所以能够赋值一个本身真实的对象
</span><span style="color:#6272a4"></span>    }

    <span style="color:#6272a4">//修改Name字段的值，如果这里的字段名写错了，那么就无法进行修改
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">if</span> f <span style="color:#ff79c6">:=</span> v.<span style="color:#50fa7b">FieldByName</span>(<span style="color:#f1fa8c">&#34;Name&#34;</span>); f.<span style="color:#50fa7b">Kind</span>() <span style="color:#ff79c6">==</span> reflect.String{
        f.<span style="color:#50fa7b">SetString</span>(<span style="color:#f1fa8c">&#34;heiheihei&#34;</span>)
    }

    <span style="color:#6272a4">//也可以进行一个字段是否存在的判断(防止字段名错误)
</span><span style="color:#6272a4"></span>    f <span style="color:#ff79c6">:=</span> v.<span style="color:#50fa7b">FieldByName</span>(<span style="color:#f1fa8c">&#34;Name1&#34;</span>)
    <span style="color:#ff79c6">if</span> !f.<span style="color:#50fa7b">IsValid</span>(){
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;没有这个字段啦&#34;</span>)
        <span style="color:#ff79c6">return</span>
    }
    <span style="color:#6272a4">//判断字段类型是否是string
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">if</span> f.<span style="color:#50fa7b">Kind</span>() <span style="color:#ff79c6">==</span> reflect.String{
        f.<span style="color:#50fa7b">SetString</span>(<span style="color:#f1fa8c">&#34;yoyoyo&#34;</span>)
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>反射调用方法</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">type</span> User <span style="color:#8be9fd;font-style:italic">struct</span>{
    Id <span style="color:#8be9fd">int</span>
    Name <span style="color:#8be9fd">string</span>
    Age <span style="color:#8be9fd">int</span>
}
<span style="color:#8be9fd;font-style:italic">func</span> (u User) <span style="color:#50fa7b">Hello</span>(name <span style="color:#8be9fd">string</span>){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Hello&#34;</span>,name,<span style="color:#f1fa8c">&#34; my name is&#34;</span>,u.Name)
}

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    u <span style="color:#ff79c6">:=</span> User{<span style="color:#bd93f9">1</span>,<span style="color:#f1fa8c">&#34;OK&#34;</span>,<span style="color:#bd93f9">12</span>}
    v <span style="color:#ff79c6">:=</span> reflect.<span style="color:#50fa7b">ValueOf</span>(u)
    <span style="color:#6272a4">//根据方法名获取方法对象(方法写错则会抛出异常)
</span><span style="color:#6272a4"></span>    mv <span style="color:#ff79c6">:=</span> v.<span style="color:#50fa7b">MethodByName</span>(<span style="color:#f1fa8c">&#34;Hello&#34;</span>)
    <span style="color:#6272a4">//组织参数(参数必须是一个slice类型)
</span><span style="color:#6272a4"></span>    args <span style="color:#ff79c6">:=</span> []reflect.Value{reflect.<span style="color:#50fa7b">ValueOf</span>(<span style="color:#f1fa8c">&#34;hai&#34;</span>)}
    <span style="color:#6272a4">//调用方法
</span><span style="color:#6272a4"></span>    mv.<span style="color:#50fa7b">Call</span>(args)

    <span style="color:#6272a4">//最终输出：Hello hai my name is OK
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div>
<h2 id="2-16-并发concurrency">2.16. 并发concurrency</h2>

<ul>
<li>goroutine是由官方实现的超级“线程池”，每个实例只有4-5KB的栈内存占用，由于实现机制而大幅减少的创建和销毁“线程”的开销，是go语言可以实现高并发的根本原因。</li>
<li>并发不是并行：

<ul>
<li>并行是直接利用多核处理器实现多个核心同时运行多线程的能力，并行是由处理器的核心数决定的，例如单核处理器就实现不了并行。</li>
<li>并发是由切换时间片来实现的，每个线程执行一段时间，然后来回切换。</li>
<li>Go语言可以设置使用并发的核数，可以最大发挥多核处理器的能力。</li>
<li>所以Go语言的并发比并行更加高效</li>
</ul></li>
<li>goroutine奉行通过通信来共享内存，而不是共享内存来通信

<ul>
<li>简单理解：goroutine之间是使用channel进行通信的，而不是使用锁机制，所以不需要对两个goroutine之间的切换加锁，只需要使用go语言实现的channel进行通信即可实现共享内存的切换。</li>
</ul></li>
<li>使用<code>go</code>关键字使用：</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#ff79c6">import</span>(
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
)
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">go</span> <span style="color:#50fa7b">Go</span>()    <span style="color:#6272a4">//使用gorountine调用Go函数
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Go</span>(){
    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hahaha&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<p>上面的代码运行结果并没有跟想象的那样输出一句&rdquo;hahaha&rdquo;，而是什么都没有输出，然后就退出了，原因是：我们在main函数中启动了一个goroutine执行Go函数，这时候就由一个线程去执行Go函数了，然后main没什么影响，继续往下执行，下面什么都没有，所以就直接退出了。</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#6272a4">//为了正确输出，我们使用线程休眠的方法，实现一下
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">import</span>(
    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
    <span style="color:#f1fa8c">&#34;time&#34;</span>
)
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    <span style="color:#ff79c6">go</span> <span style="color:#50fa7b">Go</span>()
    time.<span style="color:#50fa7b">Sleep</span>(<span style="color:#bd93f9">2</span><span style="color:#ff79c6">*</span>time.Second)   <span style="color:#6272a4">//让线程睡两秒钟，大概可以等到Go函数运行结束，然后再退出main函数
</span><span style="color:#6272a4"></span>}
<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">Go</span>(){
    fmt.<span style="color:#50fa7b">Prinltn</span>(<span style="color:#f1fa8c">&#34;hahaha&#34;</span>)
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p>在实际的代码中，我们一般使用channel进行通信，通知其他函数，这个goroutine执行完毕了，然后可以操作其他的了</p>

<ul>
<li>channel是goroutine之间通信的桥梁，大都是阻塞同步的</li>
<li>channel存取值操作：

<ul>
<li>存值使用操作符：<code>channel&lt;-</code> (存值时操作符在channel变量的右边)</li>
<li>取值使用操作符：<code>&lt;-channel</code> (取值时操作符在channel变量的左边)</li>
</ul></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    c <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">chan</span> <span style="color:#8be9fd">bool</span>)   <span style="color:#6272a4">//使用make函数创建一个channel，存储bool 类型的值
</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">//定义一个goroutine匿名函数
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">go</span> <span style="color:#8be9fd;font-style:italic">func</span>(){
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hahaha&#34;</span>)
        c <span style="color:#ff79c6">&lt;-</span> <span style="color:#ff79c6">true</span>     <span style="color:#6272a4">//给channel存一个值
</span><span style="color:#6272a4"></span>    }()
    <span style="color:#6272a4">//在main函数的最后，从channel中取值，所以这里就会等待goroutine中对channel进行存值，然后这里取出来了，才会结束main函数，这里相当一个阻塞线程的操作
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&lt;-</span> c
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>channel是通过<code>make()</code>创建，<code>close()</code>进行关闭的</li>
<li>channel是引用类型</li>
<li>可以使用<code>for range</code>来不断的迭代操作channel，进行取值操作</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>(){
    c <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">chan</span> <span style="color:#8be9fd">bool</span>)
    <span style="color:#ff79c6">go</span> <span style="color:#8be9fd;font-style:italic">func</span> (){
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;hahaha&#34;</span>)
        c <span style="color:#ff79c6">&lt;-</span> <span style="color:#ff79c6">true</span>
        <span style="color:#50fa7b">Close</span>(s)  <span style="color:#6272a4">//因为main函数最后有一个for循环在一直迭代取值channel存入的值，所以这里如果不进行Close的话，那么就会发生一个死锁，而抛出异常
</span><span style="color:#6272a4"></span>    }()
    <span style="color:#6272a4">//这里会等待上面的匿名函数给channel存入一个值，然后打印出来，接着匿名函数调用了Close函数，通知for循环channel关闭，停止迭代，然后main函数继续往下执行，直至退出
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">for</span> _,v <span style="color:#ff79c6">:=</span> <span style="color:#ff79c6">range</span> c{
        fmt.<span style="color:#50fa7b">Println</span>(v)
    }
}</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>可以设置双向(读写)和单向通道(只读、只写)</li>
<li>可以设置缓存(channel存储数据量)的大小，在没有到最大值的时候，不会发生线程阻塞
<br /></li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span> (){
    c <span style="color:#ff79c6">:=</span> <span style="color:#8be9fd;font-style:italic">make</span>(<span style="color:#8be9fd;font-style:italic">chan</span> <span style="color:#8be9fd">bool</span>,<span style="color:#bd93f9">3</span>)   <span style="color:#6272a4">//创建一个channel，可以存储3个长度的数据
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">go</span> <span style="color:#8be9fd;font-style:italic">func</span>(){
        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;123&#34;</span>)
        c <span style="color:#ff79c6">&lt;-</span> <span style="color:#ff79c6">true</span>
    }
    <span style="color:#ff79c6">&lt;-</span> c   <span style="color:#6272a4">//取出channel中的数据
</span><span style="color:#6272a4"></span>}</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<blockquote>
<ol>
<li>有缓存的channel相当于是非阻塞的，而有进程的是同步阻塞的。</li>
<li>channel相当于是queue的功能，先进先出。<br /></li>
<li>如果创建了一个带缓存的channel，那么在channel还没有存储满的时候，取channel数据这个操作不会阻塞程序的运行。反之就会等待channel中有值可以取出时，才会继续下面的其他操作。</li>
<li>看到网上一个解释：把channel比作邮递员，有缓存时，相当于你家门外面有一个信箱，只要没装满，邮递员就直接把信放进去就走，不用管你取不取。 没缓存就是邮递员必须把信交到你手里才能走。</li>
</ol>
</blockquote>

                </div>
                <div class="feat share">
                </div>

                <div id="disqus_thread"></div>
<script>
    

    

    (function() { 
        var d = document,
            s = d.createElement('script');

        s.src = 'https://HaijdBlog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            </article>
        </section>

        <footer>
	
	<small>Haijd</small>
	
</footer>
    </div>

    <div class="next-prev-arrows">
        
        <a rel="next" href="/golang/go%E6%A0%87%E5%87%86%E5%BA%93-fmt/" id="next">
                &larr; <span class="nav-title nav-title-next">Go语言标准库-fmt</span> 
            </a>  
        <a rel="prev" href="/golang/go%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%B7%A5%E5%85%B7/" id="prev">
            <span class="nav-title nav-title-prev">Go命令操作工具</span> &rarr;
        </a>
        
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/js/scrollreveal.min.js"></script>
<script type='application/javascript' src='/js/smooth-scrollbar.js'></script>
<script src="/js/baffle.min.js"></script>
<script src="/js/main.js"></script>
 
</body>

</html>